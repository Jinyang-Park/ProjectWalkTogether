{"ast":null,"code":"var _jsxFileName = \"/Users/minsungsmac/Library/CloudStorage/OneDrive-Personal/ForCode/ProjectWalkTogether/projectwalktogether/src/pages/MapPage/Map/map.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { useMap } from '../../../hooks/useMap';\nimport { dbState } from '../../../store/selector';\nimport * as S from '../Map/map.style';\nimport { data } from '../../../dummydata';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\n\n// 카카오 객체를 window 객체의 interface에 추가\n\nconst MapContainer = () => {\n  _s();\n  const mapContainer = useRef(null); // 지도를 담을 영역의 DOM 레퍼런스\n  const [markerImage, setMarkerImage] = useState(null); // 마커 이미지\n  const [DB] = useRecoilValue(dbState);\n\n  // 전역 DB 불러오기\n\n  // 지도가 표시괼 HTML 요소\n\n  // 현재 클릭한 PostingId를 저장하는 state\n\n  const {\n    makeMap,\n    makeMarkers\n  } = useMap(mapContainer, setMarkerImage, markerImage, data);\n  console.log('DB', DB);\n  console.log(Array.isArray(DB));\n  console.log(data);\n\n  // * 첫 렌더링 시 지도 생성\n  // useEffect(() => {\n  //     makeMap()\n  // }, [])\n\n  //* DB가 변경되면 마커 생성\n  useEffect(() => {\n    makeMarkers();\n  }, [makeMarkers, markerImage]);\n  return /*#__PURE__*/_jsxDEV(S.Mapbox, {\n    ref: mapContainer\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n_s(MapContainer, \"qXv02vBi9leIFmnncrCxzLsXNV4=\", false, function () {\n  return [useRecoilValue, useMap];\n});\n_c = MapContainer;\nexport default MapContainer;\nvar _c;\n$RefreshReg$(_c, \"MapContainer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useRecoilValue","useMap","dbState","S","data","kakao","window","MapContainer","mapContainer","markerImage","setMarkerImage","DB","makeMap","makeMarkers","console","log","Array","isArray"],"sources":["/Users/minsungsmac/Library/CloudStorage/OneDrive-Personal/ForCode/ProjectWalkTogether/projectwalktogether/src/pages/MapPage/Map/map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport * as ReactDOMServer from 'react-dom/server'\nimport { useParams } from 'react-router-dom'\n\nimport { useRecoilState, useRecoilValue } from 'recoil'\nimport { useMap } from '../../../hooks/useMap'\nimport { dbState } from '../../../store/selector'\n\nimport styled from 'styled-components'\nimport * as S from '../Map/map.style'\n\nimport { data } from '../../../dummydata'\n\nconst { kakao } = window\n\n// 카카오 객체를 window 객체의 interface에 추가\ndeclare global {\n  interface Window {\n    kakao: any\n  }\n}\n\nconst MapContainer = () => {\n  const mapContainer = useRef(null) // 지도를 담을 영역의 DOM 레퍼런스\n  const [markerImage, setMarkerImage] = useState<any>(null) // 마커 이미지\n  const [DB] = useRecoilValue<any>(dbState)\n\n  // 전역 DB 불러오기\n\n  // 지도가 표시괼 HTML 요소\n\n  // 현재 클릭한 PostingId를 저장하는 state\n\n  const { makeMap, makeMarkers } = useMap(\n    mapContainer,\n    setMarkerImage,\n    markerImage,\n    data\n  )\n\n  console.log('DB', DB)\n  console.log(Array.isArray(DB))\n  console.log(data)\n\n  // * 첫 렌더링 시 지도 생성\n  // useEffect(() => {\n  //     makeMap()\n  // }, [])\n\n  //* DB가 변경되면 마커 생성\n  useEffect(() => {\n    makeMarkers()\n  }, [makeMarkers, markerImage])\n\n  return <S.Mapbox ref={mapContainer}></S.Mapbox>\n}\n\nexport default MapContainer\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAI1D,SAAyBC,cAAc,QAAQ,QAAQ;AACvD,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AAGjD,OAAO,KAAKC,CAAC,MAAM,kBAAkB;AAErC,SAASC,IAAI,QAAQ,oBAAoB;AAAA;AAEzC,MAAM;EAAEC;AAAM,CAAC,GAAGC,MAAM;;AAExB;;AAOA,MAAMC,YAAY,GAAG,MAAM;EAAA;EACzB,MAAMC,YAAY,GAAGV,MAAM,CAAC,IAAI,CAAC,EAAC;EAClC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAM,IAAI,CAAC,EAAC;EAC1D,MAAM,CAACY,EAAE,CAAC,GAAGX,cAAc,CAAME,OAAO,CAAC;;EAEzC;;EAEA;;EAEA;;EAEA,MAAM;IAAEU,OAAO;IAAEC;EAAY,CAAC,GAAGZ,MAAM,CACrCO,YAAY,EACZE,cAAc,EACdD,WAAW,EACXL,IAAI,CACL;EAEDU,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEJ,EAAE,CAAC;EACrBG,OAAO,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,CAACN,EAAE,CAAC,CAAC;EAC9BG,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;;EAEjB;EACA;EACA;EACA;;EAEA;EACAP,SAAS,CAAC,MAAM;IACdgB,WAAW,EAAE;EACf,CAAC,EAAE,CAACA,WAAW,EAAEJ,WAAW,CAAC,CAAC;EAE9B,oBAAO,QAAC,CAAC,CAAC,MAAM;IAAC,GAAG,EAAED;EAAa;IAAA;IAAA;IAAA;EAAA,QAAY;AACjD,CAAC;AAAA,GAjCKD,YAAY;EAAA,QAGHP,cAAc,EAQMC,MAAM;AAAA;AAAA,KAXnCM,YAAY;AAmClB,eAAeA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}